# ============================================
# BeeBeeBrain Backend Environment Variables
# ============================================
# Copy this file to .env and modify as needed

# -------------------- App --------------------
APP_NAME=BeeBeeBrain Backend
APP_ENV=development          # development | test | production
DEBUG=true                   # true | false
HOST=127.0.0.1
PORT=8000

# -------------------- Project --------------------
# REQUIRED (choose one): PROJECT_ROOT or DATABASE_URL
# PROJECT_ROOT mode: database will be created at {PROJECT_ROOT}/.beebeebrain/beebeebrain.db
PROJECT_ROOT=../play_ground

# -------------------- Database --------------------
# DATABASE_URL mode (mutually exclusive with PROJECT_ROOT)
# DATABASE_URL=sqlite:///./beebeebrain.db
DB_AUTO_INIT=true            # Auto create tables on startup (dev only)
DB_AUTO_SEED=true            # Auto seed demo data on startup (dev only)
SQLALCHEMY_ECHO=false        # Log all SQL statements (overrides DEBUG behavior)

# -------------------- Logging --------------------
LOG_LEVEL=INFO               # DEBUG | INFO | WARNING | ERROR | CRITICAL
LOG_FORMAT=console           # console | json (auto: console for dev, json for prod)
LOG_FILE=                    # Optional: path to log file (e.g., ./logs/app.log)
LOG_DB_ENABLED=false         # Store logs in database
LOG_DB_MIN_LEVEL=WARNING     # Minimum level for DB logging

# -------------------- Claude CLI --------------------
CLAUDE_SETTINGS_PATH=        # Path to claude settings file
CLAUDE_CLI_PATH=             # Path to claude CLI executable
CLAUDE_DEFAULT_MAX_TURNS=8   # Default max turns for agent execution
CLAUDE_PERMISSION_MODE=bypassPermissions  # default | acceptEdits | plan | bypassPermissions

# -------------------- Tasks.md Sync --------------------
TASKS_MD_SYNC_ENABLED=false
TASKS_MD_OUTPUT_PATH=../tasks.md

# -------------------- Security --------------------
LOCAL_API_KEY=               # Optional: API key for local authentication

# -------------------- Cost & Monitoring --------------------
COST_ALERT_THRESHOLD_USD=0   # Alert threshold for cost (0 = disabled)

# -------------------- Stuck Detection --------------------
STUCK_IDLE_TIMEOUT_S=600     # Idle timeout before marking as stuck (seconds)
STUCK_REPEAT_THRESHOLD=0.8   # Repeat pattern threshold (0-1)
STUCK_ERROR_RATE_THRESHOLD=0.6  # Error rate threshold (0-1)
STUCK_SCAN_INTERVAL_S=60     # Scan interval (seconds)

# -------------------- CORS --------------------
CORS_ALLOW_ORIGINS=http://localhost:5173,http://127.0.0.1:5173,http://localhost:5175,http://127.0.0.1:5175
CORS_ALLOW_CREDENTIALS=true

# -------------------- Testing --------------------
TESTING=false                # Set to true in test environment
