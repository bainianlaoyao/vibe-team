import type {
  Agent,
  Task,
  Project,
  ApiUsage,
  ApiError,
  UsageDataPoint,
  ProjectDoc,
  ProjectUpdate,
} from '../types';

// Mock Agents
export const mockAgents: Agent[] = [
  {
    id: 'agent-1',
    name: 'Claude Opus 4.5',
    type: 'claude',
    avatar: '/avatars/agent-1.png',
    status: 'active',
    health: 72,
    capabilities: ['UI Design', 'Frontend', 'Documentation'],
    currentTasks: ['task-1', 'task-3'],
  },
  {
    id: 'agent-2',
    name: 'Gemini Pro 2.0',
    type: 'gemini',
    avatar: '/avatars/agent-2.png',
    status: 'busy',
    health: 64,
    capabilities: ['API Development', 'Backend', 'Testing'],
    currentTasks: ['task-2', 'task-4'],
  },
  {
    id: 'agent-3',
    name: 'Codex GPT-4',
    type: 'codex',
    avatar: '/avatars/agent-3.png',
    status: 'blocked',
    health: 41,
    capabilities: ['Database', 'DevOps', 'Architecture'],
    currentTasks: ['task-7'],
  },
  {
    id: 'agent-4',
    name: 'Cursor Agent',
    type: 'cursor',
    avatar: '/avatars/agent-4.png',
    status: 'idle',
    health: 88,
    capabilities: ['Code Review', 'Refactoring', 'Optimization'],
    currentTasks: [],
  },
];

// Mock Tasks
export const mockTasks: Task[] = [
  {
    id: 'task-1',
    title: 'Design Auth UI',
    description: 'Design a modern authentication UI with email/password login, social OAuth buttons, and password reset flow.',
    status: 'todo',
    priority: 'high',
    assignedTo: 'agent-1',
    dependencies: [],
    blocks: ['task-3', 'task-4'],
    progress: 0,
    riskFlags: ['needs_review'],
    changedFiles: ['src/views/AuthLayout.tsx', 'src/components/AuthForm.tsx', 'src/styles/auth.css'],
    diffAdd: 248,
    diffDel: 16,
    createdAt: new Date('2024-01-20'),
    updatedAt: new Date('2024-01-20'),
  },
  {
    id: 'task-2',
    title: 'API Endpoint Development',
    description: 'Create RESTful API endpoints for user authentication, including login, register, logout, and token refresh.',
    status: 'in_progress',
    priority: 'high',
    assignedTo: 'agent-2',
    dependencies: ['task-1'],
    blocks: ['task-8'],
    progress: 75,
    riskFlags: [],
    changedFiles: ['server/routes/auth.ts', 'server/controllers/auth.ts', 'server/tests/auth.test.ts'],
    diffAdd: 412,
    diffDel: 58,
    createdAt: new Date('2024-01-21'),
    updatedAt: new Date('2024-01-28'),
  },
  {
    id: 'task-3',
    title: 'Implement Login Flow',
    description: 'Implement the frontend login flow with form validation, error handling, and loading states.',
    status: 'todo',
    priority: 'high',
    assignedTo: 'agent-1',
    dependencies: ['task-1'],
    blocks: [],
    progress: 0,
    riskFlags: ['needs_review'],
    changedFiles: ['src/pages/Login.tsx', 'src/hooks/useAuth.ts'],
    diffAdd: 176,
    diffDel: 12,
    createdAt: new Date('2024-01-22'),
    updatedAt: new Date('2024-01-22'),
  },
  {
    id: 'task-4',
    title: 'Write Unit Tests',
    description: 'Write comprehensive unit tests for authentication API endpoints using Jest and Supertest.',
    status: 'review',
    priority: 'medium',
    assignedTo: 'agent-2',
    dependencies: [],
    blocks: [],
    progress: 50,
    riskFlags: ['needs_review'],
    changedFiles: ['tests/auth.spec.ts', 'tests/fixtures/users.json'],
    diffAdd: 96,
    diffDel: 8,
    createdAt: new Date('2024-01-23'),
    updatedAt: new Date('2024-01-27'),
  },
  {
    id: 'task-5',
    title: 'OAuth Integration',
    description: 'Integrate OAuth 2.0 for Google and GitHub authentication.',
    status: 'done',
    priority: 'high',
    assignedTo: 'agent-1',
    dependencies: [],
    blocks: [],
    progress: 100,
    riskFlags: [],
    changedFiles: ['server/oauth/google.ts', 'server/oauth/github.ts', 'src/components/OAuthButtons.tsx'],
    diffAdd: 210,
    diffDel: 24,
    createdAt: new Date('2024-01-15'),
    updatedAt: new Date('2024-01-25'),
  },
  {
    id: 'task-6',
    title: 'User Profile Page',
    description: 'Create user profile page with avatar upload, bio editing, and account settings.',
    status: 'done',
    priority: 'medium',
    assignedTo: 'agent-1',
    dependencies: [],
    blocks: [],
    progress: 100,
    riskFlags: [],
    changedFiles: ['src/pages/Profile.tsx', 'src/components/AvatarUpload.tsx'],
    diffAdd: 142,
    diffDel: 18,
    createdAt: new Date('2024-01-18'),
    updatedAt: new Date('2024-01-26'),
  },
  {
    id: 'task-7',
    title: 'Database Schema Design',
    description: 'Design PostgreSQL database schema for users, sessions, and OAuth tokens.',
    status: 'blocked',
    priority: 'high',
    assignedTo: 'agent-3',
    dependencies: ['task-2', 'task-1'],
    blocks: ['task-8'],
    progress: 0,
    riskFlags: ['stuck', 'failing'],
    changedFiles: ['db/schema.sql', 'db/migrations/001_init.sql'],
    diffAdd: 188,
    diffDel: 0,
    createdAt: new Date('2024-01-24'),
    updatedAt: new Date('2024-01-24'),
  },
  {
    id: 'task-8',
    title: 'API Route Protection',
    description: 'Implement middleware for protecting API routes with JWT authentication.',
    status: 'canceled',
    priority: 'high',
    assignedTo: null,
    dependencies: ['task-2', 'task-7'],
    blocks: [],
    progress: 0,
    riskFlags: ['stuck'],
    changedFiles: [],
    diffAdd: 0,
    diffDel: 0,
    createdAt: new Date('2024-01-25'),
    updatedAt: new Date('2024-01-25'),
  },
  {
    id: 'task-9',
    title: 'Password Reset Flow',
    description: 'Implement password reset functionality with email verification.',
    status: 'todo',
    priority: 'medium',
    assignedTo: null,
    dependencies: [],
    blocks: [],
    progress: 0,
    riskFlags: [],
    changedFiles: [],
    diffAdd: 0,
    diffDel: 0,
    createdAt: new Date('2024-01-26'),
    updatedAt: new Date('2024-01-26'),
  },
  {
    id: 'task-10',
    title: 'Session Management',
    description: 'Implement session management with Redis for scalability.',
    status: 'todo',
    priority: 'low',
    assignedTo: null,
    dependencies: [],
    blocks: [],
    progress: 0,
    riskFlags: [],
    changedFiles: [],
    diffAdd: 0,
    diffDel: 0,
    createdAt: new Date('2024-01-27'),
    updatedAt: new Date('2024-01-27'),
  },
  {
    id: 'task-11',
    title: 'Rate Limiting',
    description: 'Add rate limiting to prevent brute force attacks on login endpoints.',
    status: 'todo',
    priority: 'medium',
    assignedTo: null,
    dependencies: [],
    blocks: [],
    progress: 0,
    riskFlags: [],
    changedFiles: [],
    diffAdd: 0,
    diffDel: 0,
    createdAt: new Date('2024-01-28'),
    updatedAt: new Date('2024-01-28'),
  },
  {
    id: 'task-12',
    title: 'Deploy to Production',
    description: 'Deploy authentication system to production with monitoring and logging.',
    status: 'todo',
    priority: 'low',
    assignedTo: null,
    dependencies: ['task-1', 'task-2', 'task-3', 'task-4', 'task-7', 'task-8'],
    blocks: [],
    progress: 0,
    riskFlags: [],
    changedFiles: [],
    diffAdd: 0,
    diffDel: 0,
    createdAt: new Date('2024-01-29'),
    updatedAt: new Date('2024-01-29'),
  },
];

// Mock Project
export const mockProject: Project = {
  id: 'project-1',
  name: 'E-commerce Platform Rebuild',
  description: 'Complete rebuild of the e-commerce platform with modern authentication, payment processing, and inventory management.',
  status: 'active',
  tasks: mockTasks,
  agents: mockAgents,
};

// Mock Docs
export const mockDocs: ProjectDoc[] = [
  { id: 'doc-1', name: 'Product Spec.md', updatedAtLabel: 'Updated 2d ago' },
  { id: 'doc-2', name: 'Auth Flows.pdf', updatedAtLabel: 'Updated 4d ago' },
  { id: 'doc-3', name: 'Design Guidelines.fig', updatedAtLabel: 'Updated 1w ago' },
  { id: 'doc-4', name: 'README.md', updatedAtLabel: 'Updated 1w ago' },
];

// Mock Updates
export const mockUpdates: ProjectUpdate[] = [
  {
    id: 'update-1',
    summary: 'OAuth integration merged and verified in staging',
    agentId: 'agent-1',
    time: '2h ago',
    filesChanged: ['server/oauth/google.ts', 'server/oauth/github.ts'],
  },
  {
    id: 'update-2',
    summary: 'Login flow validation added with loading states',
    agentId: 'agent-1',
    time: '5h ago',
    filesChanged: ['src/pages/Login.tsx', 'src/hooks/useAuth.ts'],
  },
  {
    id: 'update-3',
    summary: 'API auth endpoints reach 75% coverage',
    agentId: 'agent-2',
    time: '1d ago',
    filesChanged: ['server/routes/auth.ts', 'server/tests/auth.test.ts'],
  },
];

// Mock API Errors
const mockApiErrors: ApiError[] = [
  {
    timestamp: new Date(Date.now() - 2 * 60 * 60 * 1000),
    modelId: 'claude',
    errorType: 'Rate Limit',
    message: 'Rate limit exceeded',
  },
  {
    timestamp: new Date(Date.now() - 5 * 60 * 60 * 1000),
    modelId: 'gemini',
    errorType: 'Timeout',
    message: 'Request timeout after 30s',
  },
  {
    timestamp: new Date(Date.now() - 8 * 60 * 60 * 1000),
    modelId: 'codex',
    errorType: 'Authentication',
    message: 'Invalid API key',
  },
];

// Mock API Usage
export const mockApiUsage: ApiUsage[] = [
  {
    modelId: 'claude',
    modelName: 'Claude Opus 4.5',
    requests: 1247,
    inputTokens: 1800000,
    outputTokens: 600000,
    totalTokens: 2400000,
    cost: 68.20,
    avgLatency: 1.2,
    successRate: 99.2,
    errors: mockApiErrors.filter(e => e.modelId === 'claude'),
  },
  {
    modelId: 'gemini',
    modelName: 'Gemini Pro 2.0',
    requests: 892,
    inputTokens: 1200000,
    outputTokens: 400000,
    totalTokens: 1600000,
    cost: 42.15,
    avgLatency: 0.9,
    successRate: 98.8,
    errors: mockApiErrors.filter(e => e.modelId === 'gemini'),
  },
  {
    modelId: 'codex',
    modelName: 'Codex GPT-4',
    requests: 324,
    inputTokens: 420000,
    outputTokens: 160000,
    totalTokens: 580000,
    cost: 17.10,
    avgLatency: 1.5,
    successRate: 97.5,
    errors: mockApiErrors.filter(e => e.modelId === 'codex'),
  },
  {
    modelId: 'cursor',
    modelName: 'Cursor Agent',
    requests: 0,
    inputTokens: 0,
    outputTokens: 0,
    totalTokens: 0,
    cost: 0,
    avgLatency: 0,
    successRate: 0,
    errors: [],
  },
];

// Mock Usage Timeline Data (Last 7 Days)
export const mockUsageTimeline: UsageDataPoint[] = [
  { date: 'Mon', claude: 150, gemini: 100, codex: 40 },
  { date: 'Tue', claude: 180, gemini: 120, codex: 45 },
  { date: 'Wed', claude: 200, gemini: 140, codex: 50 },
  { date: 'Thu', claude: 220, gemini: 150, codex: 48 },
  { date: 'Fri', claude: 190, gemini: 130, codex: 52 },
  { date: 'Sat', claude: 160, gemini: 110, codex: 42 },
  { date: 'Sun', claude: 147, gemini: 142, codex: 47 },
];
