# 产品设计与关键决策

## 1. 核心理念
- **目标**: 创建一个专为**管理** AI Agent 设计的 UI，而不仅仅是与它们对话。
- **核心原则**: “明确目标 (Specify goals)，提供上下文 (provide context)，拆解任务 (develop tasks)，给予反馈 (give feedback)”。
- **目标用户**: 工程经理、产品经理 (PM) 以及需要编排多个 Agent 的高级工程师。

## 2. 关键模块与功能

### 2.1 仪表盘 (收件箱 / Inbox)
- **目的**: 高层级的注意力管理。
- **组件**:
  - **待审查 (Needs Review)**: Agent 已完成工作，需要人类批准的任务。
  - **阻塞 / 风险 (Blocked / At Risk)**: Agent 卡住、陷入循环或遇到错误，需要人工干预的情况。
  - **API 使用/预警**: 监控成本和限制。

### 2.2 项目中心 (Project Hub)
- **重要文档 (上下文来源)**:
  - 用于上传/管理 PRD、技术规范和设计指南的板块。
  - **决策**: 这些是所有 Agent 必须阅读的强制性文档，以便在“做什么”和“技术方案”上保持一致。
- **近期更新 / 项目记忆 (Project Memory)**:
  - 记录“已完成工作”和“学到的经验 (规范/教训)”的持久化日志。
  - **决策**: 解决不同 Agent 会话之间的上下文丢失问题。
- **Agent 看板 (执行视图)**:
  - **视觉呈现**: 状态列 (待办、进行中、审查中、已完成)。
  - **卡片详情**: Agent 名称、当前任务、进度百分比、变动文件数、健康状态。
  - **终端/控制台视图**:
    - **决策**: 嵌入式的终端视图对于建立开发者信任（“掌控感”）至关重要。
    - 支持“紧凑视图 (Compact View)”以同时监控多个运行中的 Agent。

### 2.3 工作流设计器 (白板 / Whiteboard)
- **可视化界面**: 拖拽式画布，用于连接 Agent/任务。
- **队列管理**: 支持任务/Agent 队列（例如：“在 Agent A 完成后运行 Agent B”）。
- **后端定义**:
  - **决策**: 工作流由 **Python 代码** 定义（不仅仅是静态 JSON），以支持循环、if/else 逻辑和数据后处理。
- **辩论模式 (Debate Mode)**: 一种特定的工作流模式，多个 Agent 在产出最终结果前相互通过批评/辩论来优化工作/计划。

### 2.4 任务总表 (Global Table)
- **参考对象**: 类似于 飞书/Lark 的多维表格或 Linear 的 Issue 列表。
- **功能**: 追踪所有 Agent 的任务，包含优先级、负责人 (Agent)、复杂度及状态等字段。

### 2.5 文件与产物集成
- **查看器**: 嵌入式查看器，用于查看 Agent 生成的文件（Markdown、代码）。
- **反馈循环**: 人类可以对计划/文档的特定部分进行评论。评论会触发 Agent 优化相应的产物（类似 Google Docs/飞书文档的评论功能）。

## 3. 用户体验决策
- **透明度**: 用户需要看到“思考”过程 (stdout) 才能信任 Agent。
- **干预**: 当 Agent 偏离轨道时，用户必须能够暂停/停止 Agent，或直接介入手动修改代码。
- **隐藏复杂性**: 抽象掉复杂的提示词工程 (Prompt Engineering)，但暴露执行细节 (日志/文件)。
